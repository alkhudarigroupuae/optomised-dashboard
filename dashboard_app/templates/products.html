{% extends "layout.html" %}

{% block title %}Products{% endblock %}

{% block content %}
<div class="page-header">
    <div class="page-title">
        <h2>Products Management ðŸ“¦</h2>
        <p>View, edit, and add store products</p>
    </div>
    <button class="btn-primary" onclick="showFeatureNotReady('Add Product')">
        <i class="fas fa-plus"></i>
        New Product
    </button>
</div>

<div class="glass-panel">
    <table style="width: 100%; border-collapse: collapse; color: var(--text-muted);">
        <thead>
            <tr style="border-bottom: 1px solid var(--border); text-align: left;">
                <th style="padding: 1rem;">Image</th>
                <th style="padding: 1rem;">Name</th>
                <th style="padding: 1rem;">Price</th>
                <th style="padding: 1rem;">Stock</th>
                <th style="padding: 1rem;">Status</th>
                <th style="padding: 1rem;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr style="border-bottom: 1px solid var(--border);">
                <td style="padding: 1rem;">
                    <div style="width: 50px; height: 50px; background: #222; border-radius: 6px; overflow: hidden; border: 1px solid var(--border);">
                        {% if product.images %}
                        <img src="{{ product.images[0].src }}" style="width: 100%; height: 100%; object-fit: cover;">
                        {% else %}
                        <div style="display:flex; align-items:center; justify-content:center; height:100%; color: #666;"><i class="fas fa-image"></i></div>
                        {% endif %}
                    </div>
                </td>
                <td style="padding: 1rem; color: white; font-weight: 500;">{{ product.name }}</td>
                <td style="padding: 1rem;">{{ product.price }} SAR</td>
                <td style="padding: 1rem;">
                    {% if product.stock_status == 'instock' %}
                    <span style="color: #10b981; font-size: 0.9rem;">In Stock</span>
                    {% else %}
                    <span style="color: #ef4444; font-size: 0.9rem;">Out of Stock</span>
                    {% endif %}
                </td>
                <td style="padding: 1rem;"><span style="background: rgba(255, 255, 255, 0.1); color: #fff; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; border: 1px solid #333;">{{ product.status }}</span></td>
                <td style="padding: 1rem;">
                    <button style="background: none; border: none; color: #888; cursor: pointer; transition: color 0.2s;"><i class="fas fa-edit"></i></button>
                    <button style="background: none; border: none; color: #ef4444; cursor: pointer; margin-left: 0.5rem; transition: color 0.2s;"><i class="fas fa-trash"></i></button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
